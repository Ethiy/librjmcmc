using quickbook ;

import set ;
import doxygen ;


local doxygen_params =
        <doxygen:param>RECURSIVE=YES
        <doxygen:param>ALPHABETICAL_INDEX=YES
        <doxygen:param>REPEAT_BRIEF=YES
        <doxygen:param>ALWAYS_DETAILED_SEC=YES
        <doxygen:param>BRIEF_MEMBER_DESC=NO
        <doxygen:param>ABBREVIATE_BRIEF=YES
        <doxygen:param>INHERIT_DOCS=YES
        <doxygen:param>HIDE_UNDOC_MEMBERS=YES
        <doxygen:param>HIDE_UNDOC_CLASSES=YES
        <doxygen:param>HIDE_SCOPE_NAMES=YES
        <doxygen:param>EXTRACT_ALL=YES
        <doxygen:param>EXTRACT_PRIVATE=NO
        <doxygen:param>BUILTIN_STL_SUPPORT=YES
        <doxygen:param>ENABLE_PREPROCESSING=YES
        <doxygen:param>MACRO_EXPANSION=YES
        <doxygen:param>TAB_SIZE=4
        <doxygen:param>SOURCE_BROWSER=YES
        <doxygen:param>VERBATIM_HEADERS=NO
        ;

local configuration_includes =
    [ glob
        ../lib/mpp/configuration/*.hpp
    ] ;

local transform_includes =
    [ glob
        ../lib/rjmcmc/kernel/transform.hpp
    ] ;

local sampler_includes =
    [ glob
        ../lib/rjmcmc/sampler/*.hpp
    ] ;

local schedule_includes =
    [ glob
        ../lib/simulated_annealing/schedule/*.hpp
    ] ;

local end_test_includes =
    [ glob
        ../lib/simulated_annealing/end_test/*.hpp
    ] ;

local visitor_includes =
    [ glob
        ../lib/simulated_annealing/visitor/*.hpp
        ../lib/simulated_annealing/visitor/wx/*.hpp
    ] ;

local geometry_includes =
    [ glob
        ../lib/geometry/*.hpp
        ../lib/geometry/*.h
    ] ;

doxygen configuration_reference
    :
        $(configuration_includes)
    :
        $(doxygen_params)
        <xsl:param>"boost.doxygen.reftitle=Configurations"
    ;

doxygen transform_reference
    :
        $(transform_includes)
    :
        $(doxygen_params)
        <xsl:param>"boost.doxygen.reftitle=Transforms"
    ;

doxygen sampler_reference
    :
        $(sampler_includes)
    :
        $(doxygen_params)
        <xsl:param>"boost.doxygen.reftitle=Samplers"
    ;

doxygen schedule_reference
    :
        $(schedule_includes)
    :
        $(doxygen_params)
        <xsl:param>"boost.doxygen.reftitle=Schedules"
    ;

doxygen end_test_reference
    :
        $(end_test_includes)
    :
        $(doxygen_params)
        <xsl:param>"boost.doxygen.reftitle=End Tests"
    ;

doxygen visitor_reference
    :
        $(visitor_includes)
    :
        $(doxygen_params)
        <xsl:param>"boost.doxygen.reftitle=Visitors"
    ;

doxygen geometry_reference
    :
        $(geometry_includes)
    :
        $(doxygen_params)
        <xsl:param>"boost.doxygen.reftitle=Geometry"
    ;

boostbook librjmcmc 
        : src/librjmcmc_quickbook.qbk 
        : <xsl:param>boost.root=..
        <xsl:param>boost.image.src=image/banniere_matis.png
        <xsl:param>boost.image.alt="\"IGN/MATIS_librjmcmc\""
        <xsl:param>boost.image.w=900
        <xsl:param>boost.image.h=160
        <xsl:param>html.stylesheet=css/boostbook.css
        <xsl:param>nav.layout=none
        <xsl:param>navig.graphics.path=css/images/
        <dependency>configuration_reference
        <dependency>transform_reference
        <dependency>sampler_reference
        <dependency>schedule_reference
        <dependency>end_test_reference
        <dependency>visitor_reference
        <dependency>geometry_reference
        ; 
